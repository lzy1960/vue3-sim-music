import{a,s,q as e,r as l,v as i,b as n,N as t,D as d,o as c,c as r,f as o,e as u,g as v,E as g,t as m,F as p,h as y,l as f,n as k,u as h,i as I,O as _}from"./vendor.b4a3d6d4.js";import{_ as b,u as P,s as C}from"./index.1d3b49e1.js";const j={class:"play-list"},z={class:"left"},S={class:"title"},w={class:"desc"},x={key:0,class:"search-list"},D={class:"search-item"},N={class:"desc"},q=f("VIP"),E={class:"author"};var F=b(a({setup(a){const b=P(),{curSongId:F,isPlaying:O}=s(b),U=e(),V=l(!1),A=l(null),B=l([]),G=l([]);(async a=>{V.value=!0;const s={id:a},e=await C.getPlaylist(s);200===e.code?(A.value=e.playlist,G.value=e.playlist.trackIds.map((a=>a.id)),H()):g.error(e.message)})(Number(U.params.id));const H=async()=>{const a={ids:G.value.join(",")};try{const s=await C.getSongDetail(a);200===s.code?B.value=s.songs:g.error(s.message)}finally{V.value=!1}},J=i();return(a,s)=>{var e;const l=n("el-image"),i=n("el-link"),g=n("el-button"),P=n("el-tag"),C=n("el-empty"),U=n("el-card"),G=t("loading");return d((c(),r("div",j,[o("div",z,[u(l,{src:null==(e=A.value)?void 0:e.coverImgUrl},null,8,["src"])]),u(U,{class:"right"},{header:v((()=>{var a,s;return[o("div",S,m(null==(a=A.value)?void 0:a.name),1),o("div",w,m(null==(s=A.value)?void 0:s.description),1)]})),default:v((()=>[B.value.length?(c(),r("div",x,[B.value.length?(c(!0),r(p,{key:0},y(B.value,(a=>(c(),r("div",D,[u(i,{class:k(["name",{playing:a.id===h(F)}]),onClick:s=>{return e=a.id,void J.push({name:"songInfo",params:{id:e}});var e}},{default:v((()=>[f(m(a.name),1)])),_:2},1032,["class","onClick"]),u(g,{onClick:s=>(a=>{a.id!==F.value?b.setSongId(a.id):b.setIsPlaying(!b.isPlaying)})(a),size:"small",type:"primary"},{icon:v((()=>[o("i",{class:k(["iconfont",a.id===h(F)&&h(O)?"icon-24gf-pause2":"icon-24gf-play"])},null,2)])),default:v((()=>[f(m(1===a.fee?"试听":a.id===h(F)&&h(O)?"暂停":"播放")+" ",1)])),_:2},1032,["onClick"]),o("div",N,[1===a.fee?(c(),I(P,{key:0,size:"small",class:"vip"},{default:v((()=>[q])),_:1})):_("",!0),o("span",E,m(a.ar[0].name),1)])])))),256)):_("",!0)])):(c(),I(C,{key:1,"image-size":200}))])),_:1})])),[[G,V.value]])}}}),[["__scopeId","data-v-89ad2270"]]);export{F as default};
