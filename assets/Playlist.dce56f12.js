import{a as $,s as j,q as A,r as v,v as M,b as t,N as O,D as U,o as l,c as y,f as n,e as f,g as c,E as P,t as r,F as G,h as H,l as k,n as S,u,i as B,O as x}from"./vendor.b4a3d6d4.js";import{_ as J,u as K,s as N}from"./index.c08688aa.js";const Q={class:"play-list"},W={class:"left"},X={class:"title"},Y={class:"desc"},Z={key:0,class:"search-list"},ee={class:"search-item"},se={class:"desc"},ae=k("VIP"),oe={class:"author"},te=$({setup(le){const _=K(),{curSongId:d,isPlaying:C}=j(_),E=A(),m=v(!1),g=v(null),i=v([]),I=v([]);(async s=>{m.value=!0;const a={id:s},o=await N.getPlaylist(a);o.code===200?(g.value=o.playlist,I.value=o.playlist.trackIds.map(h=>h.id),V()):P.error(o.message)})(Number(E.params.id));const V=async()=>{console.log("\u83B7\u53D6\u8BE6\u60C5");const s={ids:I.value.join(",")};try{const a=await N.getSongDetail(s);a.code===200?(console.log(a),i.value=a.songs,console.log(i.value)):P.error(a.message)}finally{m.value=!1}},b=M(),w=s=>{b.push({name:"songInfo",params:{id:s}})},z=s=>{if(console.log(s),s.id===d.value){_.setIsPlaying(!_.isPlaying);return}_.setSongId(s.id)};return(s,a)=>{var D;const o=t("el-image"),h=t("el-link"),q=t("el-button"),R=t("el-tag"),T=t("el-empty"),F=t("el-card"),L=O("loading");return U((l(),y("div",Q,[n("div",W,[f(o,{src:(D=g.value)==null?void 0:D.coverImgUrl},null,8,["src"])]),f(F,{class:"right"},{header:c(()=>{var e,p;return[n("div",X,r((e=g.value)==null?void 0:e.name),1),n("div",Y,r((p=g.value)==null?void 0:p.description),1)]}),default:c(()=>[i.value.length?(l(),y("div",Z,[i.value.length?(l(!0),y(G,{key:0},H(i.value,e=>(l(),y("div",ee,[f(h,{class:S(["name",{playing:e.id===u(d)}]),onClick:p=>w(e.id)},{default:c(()=>[k(r(e.name),1)]),_:2},1032,["class","onClick"]),f(q,{onClick:p=>z(e),size:"small",type:"primary"},{icon:c(()=>[n("i",{class:S(["iconfont",e.id===u(d)&&u(C)?"icon-24gf-pause2":"icon-24gf-play"])},null,2)]),default:c(()=>[k(r(e.fee===1?"\u8BD5\u542C":e.id===u(d)&&u(C)?"\u6682\u505C":"\u64AD\u653E")+" ",1)]),_:2},1032,["onClick"]),n("div",se,[e.fee===1?(l(),B(R,{key:0,size:"small",class:"vip"},{default:c(()=>[ae]),_:1})):x("",!0),n("span",oe,r(e.ar[0].name),1)])]))),256)):x("",!0)])):(l(),B(T,{key:1,"image-size":200}))]),_:1})])),[[L,m.value]])}}});var re=J(te,[["__scopeId","data-v-89ad2270"]]);export{re as default};
