import{a as b,s as q,q as z,r as h,A as P,v as R,b as n,N as T,o,c as _,D as A,i as d,g as c,F,h as $,e as m,l as f,t as g,n as k,u as l,f as p,O as G,E as M}from"./vendor.b4a3d6d4.js";import{_ as O,u as j,s as H}from"./index.c08688aa.js";const J={class:"search-list"},K={class:"search-item"},Q={class:"desc"},U=f("VIP"),W={class:"author"},X=b({setup(Y){const a=j();a.isGlobalShow=!1;const{curSongId:r,isPlaying:v}=q(a),y=z(),i=h(!1),u=h([]),C=async()=>{i.value=!0;const s={keywords:y.query.keywords};try{const t=await H.searchSong(s);t.code===200?(console.log(t.result),u.value=t.result.songs):M.error(t.message)}finally{i.value=!1}};P(()=>{console.log(y.query.keywords),C()});const S=s=>{if(console.log(s),s.id===r.value){a.setIsPlaying(!a.isPlaying);return}a.setSongId(s.id)},w=R(),I=s=>{w.push({name:"songInfo",params:{id:s}})};return(s,t)=>{const x=n("el-link"),D=n("el-button"),B=n("el-tag"),E=n("el-empty"),L=n("el-card"),N=T("loading");return o(),_("div",J,[A((o(),d(L,null,{default:c(()=>[u.value.length?(o(!0),_(F,{key:0},$(u.value,e=>(o(),_("div",K,[m(x,{class:k(["name",{playing:e.id===l(r)}]),onClick:V=>I(e.id)},{default:c(()=>[f(g(e.name),1)]),_:2},1032,["class","onClick"]),m(D,{onClick:V=>S(e),size:"small",type:"primary"},{icon:c(()=>[p("i",{class:k(["iconfont",e.id===l(r)&&l(v)?"icon-24gf-pause2":"icon-24gf-play"])},null,2)]),default:c(()=>[f(g(e.fee===1?"\u8BD5\u542C":e.id===l(r)&&l(v)?"\u6682\u505C":"\u64AD\u653E")+" ",1)]),_:2},1032,["onClick"]),p("div",Q,[e.fee===1?(o(),d(B,{key:0,size:"small",class:"vip"},{default:c(()=>[U]),_:1})):G("",!0),p("span",W,g(e.artists[0].name),1)])]))),256)):(o(),d(E,{key:1,"image-size":200}))]),_:1})),[[N,i.value]])])}}});var se=O(X,[["__scopeId","data-v-d815dea0"]]);export{se as default};
